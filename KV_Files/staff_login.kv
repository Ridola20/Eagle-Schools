#: import C kivy.utils.get_color_from_hex
#: import get_color_from_hex kivy.utils.get_color_from_hex

<StaffLogin>:
	staff_id: staff_id
	staff_pin: staff_pin

	MDFloatLayout:
		FitImage:
			source: "images/front_2.jpg"
			opacity: .2

	MDBoxLayout:
		orientation: "vertical"
		padding: 0
		spacing: 0
		MDBoxLayout:
			size_hint_y: .35
			id: "top-section"
			padding: 0, 30, 0, 0
			spacing: 20
			orientation: "vertical"
			radius: [0, 0, 50, 50]

			Image:
				source: "images/eagle_full_clr.png"
				size_hint_y: 7
			MDLabel:
				text: "EAGLE SCHOOLS"
				bold: True
				font_size: 30
				valign: "center"
				halign: "center"
			
		MDBoxLayout: 
			id: "form"
			size_hint_x: 1
			size_hint_y: .5
			padding: 0, 100, 0, 0
			orientation: "vertical"	
			spacing: 30		

			MDBoxLayout:
				size_hint_x: 1
				orientation: "vertical"
				padding: 30
				spacing: 20
				MDLabel:
					text: "Staff Id"
					color: get_color_from_hex("#000000")
					font_size: 22

				
				MDTextField:
					id: staff_id
					theme_text_color: "Custom"
					color_mode: "custom"
					helper_text_color: get_color_from_hex("#000000")

					hint_text: "Enter your identity number"
					line_color_focus: get_color_from_hex("#000000")
					line_color_normal: get_color_from_hex("#000000")
					icon_left: "account"
					icon_left_color_focus: get_color_from_hex("#000000")

					icon_left_color_normal: get_color_from_hex("#000000")
					line_color_normal: get_color_from_hex("#000000")
					hint_text_color_normal: get_color_from_hex("#000000")
					hint_text_color_focus: get_color_from_hex("#000000")
					font_size: "20sp"
					max_text_length: 3
					min_text_length: 3
					max_length_text_color: get_color_from_hex("#222222")
					text_color_normal: get_color_from_hex("#000000")
					text_color_focus: get_color_from_hex("#000000")

			MDBoxLayout:
				size_hint_x: 1
				orientation: "vertical"
				spacing: 20
				padding: 30
				MDLabel:
					font_size: 22
					text: "Access Key"
					color: get_color_from_hex("#000000")

				
				MDBoxLayout:
					size_hint_y: None
        			height: staff_pin.height

			        MDTextField:
			            id: staff_pin
			        	theme_text_color: "Custom"
			            hint_text: "Enter your six digit access pin"

			            icon_left_color_normal: get_color_from_hex("#000000")
						line_color_normal: get_color_from_hex("#000000")
						hint_text_color_normal: get_color_from_hex("#000000")
						hint_text_color_focus: get_color_from_hex("#000000")
						font_size: "20sp"
						max_text_length: 6
						max_text_length: 6
						max_length_text_color: get_color_from_hex("#222222")
						text_color_focus: get_color_from_hex("#000000")
						text_color_normal: get_color_from_hex("#000000")

			            password: True
			            line_color_focus: get_color_from_hex("#000000")
			            icon_left: "key-variant"
			            icon_left_color_focus: get_color_from_hex("#000000")

			        MDIconButton:
			            icon: "eye-off"
			            icon_color: get_color_from_hex("#000000")
			            pos_hint: {"center_y": .5}
			            pos: staff_pin.width - self.width + dp(8), 0
			            theme_text_color: "Custom"
			            on_release:
			                self.icon = "eye" if self.icon == "eye-off" else "eye-off"
			                staff_pin.password = False if staff_pin.password is True else True

		MDBoxLayout:
			size_hint_x: 1
			size_hint_y: .12
			padding: 30, 5, 30, 40
			orientation: "horizontal"
			
			MDRoundFlatButton:
				md_bg_color: get_color_from_hex("#01377d")
				on_press: md_bg_color = get_color_from_hex("#ffffff")
				on_press: login_txt.color = get_color_from_hex("#ffffff")
				size_hint_x: 1
				size_hint_y: 1.5
				on_press: root.check_authentication()
				on_release: app.change_screen("dashboard") if root.authenticated else ''
				outline_width: 0
				color_mode: "Custom"


				MDLabel:
					id: login_txt
					size_hint_x: .5
					text: "LOGIN"
					halign: "center"
					bold: True
					font_size: 25
					color: get_color_from_hex("#ffffff")
					outline_width: 0



		MDBoxLayout:
			spacing: 15
			orientation: "vertical"
			size_hint_x: 1
			padding: 70, 0, 70, 10
			size_hint_y: .05
			spacing: 5
			MDTextButton:
				halign: "center"
				size_hint_x: 1
				bold: True
				font_size: 17
				color: get_color_from_hex("#222222")
				text: "Click here to login as an Admin >"
				on_press: app.change_screen("adminlogin")

			MDTextButton:
				halign: "center"
				size_hint_x: 1
				text: "or here to login as a Student >"
				font_size: 17
				bold: True
				color: get_color_from_hex("#222222")
				on_press: app.change_screen("studentlogin")

	